================================================================================
Risk Manager V34 - Test Report
================================================================================
Test Run: All tests with coverage + HTML report (with branch)
Timestamp: 2025-10-28 21:40:15
Status: FAILED
Exit Code: 1
================================================================================

[1m============================= test session starts ==============================[0m
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /mnt/c/Users/jakers/Desktop/risk-manager-v34/.venv/bin/python
cachedir: .pytest_cache
rootdir: /mnt/c/Users/jakers/Desktop/risk-manager-v34
configfile: pyproject.toml
plugins: anyio-4.11.0, asyncio-1.2.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
[1mcollecting ... [0mcollected 1396 items

tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_authentication_success [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_authentication_failure [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_connection_loss_recovery [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_multi_account_authentication [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_connection_state_consistency [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_authentication_retrieves_account_info [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_concurrent_authentication_attempts [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_authentication_e2e.py::TestAuthenticationE2E::test_authentication_event_data_completeness [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_position_opened_event_flow [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_position_updated_event_flow [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_order_filled_event_flow [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_pnl_update_event_flow [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_multi_symbol_event_flow [32mPASSED[0m[33m [  0%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_event_pipeline_stress [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_event_pipeline_error_handling [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_event_pipeline_e2e.py::TestEventPipelineE2E::test_complete_position_lifecycle [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_position_below_limit_no_enforcement [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_position_exceeds_limit_triggers_enforcement [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_complete_flow_sdk_to_enforcement [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_multiple_position_updates [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_multi_symbol_total_exceeds_limit [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_enforcement_closes_positions_via_sdk [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_system_continues_after_handler_error [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_end_to_end_latency [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_state_remains_consistent_across_events [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_max_contracts_e2e.py::TestMaxContractsE2E::test_realistic_day_trading_scenario [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestAuthLossGuardE2E::test_auth_loss_guard_disconnect_alert [32mPASSED[0m[33m [  1%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestAuthLossGuardE2E::test_auth_loss_guard_auth_failure_alert [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestAuthLossGuardE2E::test_auth_loss_guard_reconnect_clears_alert [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestDailyRealizedProfitE2E::test_daily_profit_target_lockout [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestDailyRealizedProfitE2E::test_daily_profit_prevents_new_trades [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestDailyRealizedProfitE2E::test_daily_profit_reset_clears_lockout [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestDailyRealizedProfitE2E::test_multiple_accounts_independent_lockouts [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_monitoring_lockout_e2e.py::TestDailyRealizedProfitE2E::test_profit_rule_ignores_half_turn_trades [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_position_limit_plus_loss_limit [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_cooldown_plus_session_hours [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_unrealized_loss_triggers_realized_loss_lockout [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_state_consistency_across_multiple_rules [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_multiple_rules_priority_and_sequencing [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_multi_rule_interactions_e2e.py::TestMultiRuleInteractionsE2E::test_cleanup_resets_all_state [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_order_management_e2e.py::TestSymbolBlocksE2E::test_symbol_block_exact_match [32mPASSED[0m[33m [  2%][0m
tests/e2e/test_order_management_e2e.py::TestSymbolBlocksE2E::test_symbol_block_wildcard_pattern [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestSymbolBlocksE2E::test_symbol_block_case_insensitive [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestSymbolBlocksE2E::test_symbol_block_closes_existing_positions [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestTradeManagementE2E::test_trade_management_auto_stop_loss [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestTradeManagementE2E::test_trade_management_bracket_order [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestTradeManagementE2E::test_trade_management_trailing_stop [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestTradeManagementE2E::test_trade_management_short_position_stop_loss [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestTradeManagementE2E::test_trade_management_multiple_symbols [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_order_management_e2e.py::TestOrderManagementIntegration::test_symbol_blocks_prevents_trade_management [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_performance_e2e.py::TestPerformanceE2E::test_event_processing_latency [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_performance_e2e.py::TestPerformanceE2E::test_enforcement_execution_latency [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_performance_e2e.py::TestPerformanceE2E::test_high_frequency_event_handling [32mPASSED[0m[33m [  3%][0m
tests/e2e/test_performance_e2e.py::TestPerformanceE2E::test_concurrent_rule_evaluation [33mSKIPPED[0m[33m [  3%][0m
tests/e2e/test_performance_e2e.py::TestPerformanceE2E::test_memory_usage_under_load [33mSKIPPED[0m[33m [  3%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxContractsPerInstrumentE2E::test_per_instrument_limit_single_symbol [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxContractsPerInstrumentE2E::test_per_instrument_independent_limits [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxContractsPerInstrumentE2E::test_per_instrument_flatten_only_violating_symbol [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxContractsPerInstrumentE2E::test_multiple_position_updates_per_instrument [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_max_unrealized_profit_closes_winner [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_max_unrealized_profit_multiple_positions [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_profit_target_automation [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_short_position_profit_target [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_no_lockout_after_profit_target [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_position_limits_e2e.py::TestMaxUnrealizedProfitE2E::test_complete_flow_price_movement_to_target [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_trade_frequency_cooldown_triggers [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_trade_frequency_cooldown_expires [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_trade_frequency_rolling_window [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_no_stop_loss_grace_timer_starts [32mPASSED[0m[33m [  4%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_stop_loss_placed_cancels_timer [32mPASSED[0m[33m [  5%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_grace_period_expires_closes_position [31mFAILED[0m[31m [  5%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_multiple_timers_independent_tracking [32mPASSED[0m[31m [  5%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_timer_cleanup_on_position_close [32mPASSED[0m[31m [  5%][0m
tests/e2e/test_timer_rules_e2e.py::TestTimerRulesE2E::test_state_consistency_across_timer_lifecycle [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_full_cooldown_flow_with_timer_expiry [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_tiered_cooldown_selects_correct_duration [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_tiered_cooldown_tier1 [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_tiered_cooldown_tier3 [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_timer_callback_clears_lockout [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_winning_trade_no_cooldown_no_timer [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_multi_account_independent_cooldowns [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_lockout_persists_to_database [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_lockout_loaded_from_database_on_restart [32mPASSED[0m[31m [  5%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_rapid_loss_sequence_only_first_triggers_timer [32mPASSED[0m[31m [  6%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_event_flow_from_trade_to_lockout [32mPASSED[0m[31m [  6%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_timer_precision_within_tolerance [32mPASSED[0m[31m [  6%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_database_cleanup_on_lockout_clear [31mFAILED[0m[31m [  6%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_position_closed_event_triggers_cooldown [32mPASSED[0m[31m [  6%][0m
tests/integration/test_cooldown_after_loss_integration.py::TestCooldownAfterLossIntegration::test_half_turn_trades_no_cooldown_no_timer [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_full_loss_limit_flow_with_database [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_multi_account_independence [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_lockout_persistence_crash_recovery [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_reset_scheduler_integration [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_half_turn_trades_ignored [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_mixed_profit_loss_day [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_concurrent_access_thread_safety [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_database_schema_validation [32mPASSED[0m[31m [  6%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_boundary_exactly_at_limit [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_loss_integration.py::TestDailyRealizedLossIntegration::test_timer_auto_unlock [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_full_profit_target_flow_with_database [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_multi_account_independence [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_lockout_persistence_crash_recovery [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_reset_scheduler_integration [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_event_bus_async_flow [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_enforcement_action_integration [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_half_turn_trades_ignored [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_timer_auto_unlock [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_concurrent_access_thread_safety [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_database_schema_validation [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_mixed_profit_loss_day [31mFAILED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_lockout_prevents_further_evaluation [32mPASSED[0m[31m [  7%][0m
tests/integration/test_daily_realized_profit_integration.py::test_pnl_tracker_trade_count [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_realized_profit_integration.py::test_reset_time_calculation [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_realized_profit_integration.py::test_boundary_exactly_at_target [31mFAILED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_reset_normal_day [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_timezone_conversion_et_to_utc_standard_time [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_timezone_conversion_et_to_utc_daylight_time [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_dst_spring_forward_17_00_still_exists [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_dst_spring_forward_no_duplicate_reset [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_dst_fall_back_17_00_happens_once [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_dst_fall_back_no_duplicate_reset [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_lockout_expiry_respects_dst_spring [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_lockout_expiry_respects_dst_fall [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_reset_dst.py::TestDailyResetAndDST::test_reset_uses_et_not_utc [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_full_unrealized_loss_violation_flow [32mPASSED[0m[31m [  8%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_multi_position_independence [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_real_pnl_calculation_accuracy [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_market_price_updates_real_time_monitoring [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_different_tick_sizes_calculation [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_no_lockout_created_on_violation [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_event_bus_integration_complete_flow [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_position_closed_before_violation [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_long_and_short_positions_accuracy [32mPASSED[0m[31m [  9%][0m
tests/integration/test_daily_unrealized_loss_integration.py::TestDailyUnrealizedLossIntegration::test_enforcement_action_close_position_not_flatten_all [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_event_bus_publishes_to_subscribers [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_event_bus_multiple_subscribers [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_engine_evaluates_rule_on_event [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_engine_skips_rules_when_no_violation [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_violation_triggers_flatten_enforcement [32mPASSED[0m[31m [  9%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_violation_publishes_event [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_end_to_end_position_violation_flow [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_multiple_rules_evaluated_in_order [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_event_bus_handles_handler_errors [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_engine_tracks_position_state [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_flatten_action_calls_flatten_all [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_pause_action_triggers_pause_trading [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_event_processing_is_fast [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_event_pipeline_integration.py::TestEventPipelineIntegration::test_multi_symbol_position_tracking [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_live_system_smoke.py::TestLiveSystemSmoke::test_system_boots_and_reaches_checkpoints [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_live_system_smoke.py::TestLiveSystemSmoke::test_system_handles_missing_credentials_gracefully [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_live_system_smoke.py::TestLiveSystemSmoke::test_ctrl_c_triggers_graceful_shutdown [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_live_system_smoke.py::TestLiveSystemSmoke::test_system_with_explicit_account_flag [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_single_symbol_within_limit [32mPASSED[0m[31m [ 10%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_single_symbol_exceeds_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_multiple_symbols_independent_limits [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_one_symbol_violates_others_ok [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_symbol_without_configured_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_short_positions_absolute_value [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_exactly_at_limit_no_violation [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_event_bus_integration [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_no_lockout_on_violation [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_contracts_per_instrument_integration.py::TestMaxContractsPerInstrumentIntegration::test_dynamic_limit_configuration [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_single_symbol_within_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_single_symbol_exceeds_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_multi_symbol_total_within_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_multi_symbol_total_exceeds_limit [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_short_positions_absolute_value [32mPASSED[0m[31m [ 11%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_event_bus_integration [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_no_lockout_on_violation [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_zero_position_no_violation [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_exactly_at_limit_no_violation [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_position_integration.py::TestMaxPositionIntegration::test_performance_many_symbols [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_es_long_position_reaches_target [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_mnq_short_position_reaches_target [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_multi_position_independence [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_market_price_updates_real_time_monitoring [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_different_tick_sizes_calculation [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_long_and_short_positions_accuracy [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_event_bus_integration_complete_flow [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_enforcement_closes_position_not_flatten_all [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_position_closed_before_target [32mPASSED[0m[31m [ 12%][0m
tests/integration/test_max_unrealized_profit_integration.py::TestMaxUnrealizedProfitIntegration::test_zero_negative_profit_no_violation [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestMultipleBreachArbitration::test_flatten_and_reduce_to_limit_both_detected [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestMultipleBreachArbitration::test_close_position_and_flatten_both_detected [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestMultipleBreachArbitration::test_deterministic_priority_order [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestMultipleBreachArbitration::test_sort_violations_by_priority [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestMultipleBreachArbitration::test_multiple_violations_same_priority [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestPriorityDocumentation::test_priority_rationale [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_multiple_breach_arbitration.py::TestPriorityDocumentation::test_enforcement_execution_order [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_grace_period_timer_expires_and_closes_position [31mFAILED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_stop_loss_placed_cancels_timer_no_enforcement [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_multiple_positions_independent_timers [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_position_closed_before_grace_expires [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_real_async_timer_callback_execution [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_order_type_detection_only_stops_cancel_timer [32mPASSED[0m[31m [ 13%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_event_bus_integration_with_rule_events [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_timer_recreated_after_manager_restart [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_concurrent_timer_operations [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_enforcement_failure_does_not_crash [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_rule_status_shows_active_timers [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_no_stop_loss_grace_integration.py::TestNoStopLossGraceIntegration::test_disabled_rule_integration [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_outside_hours_lockout_flow [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_inside_hours_no_violation [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_weekend_blocking_saturday [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_weekend_blocking_sunday [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_dst_spring_forward_transition [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_dst_fall_back_transition [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_lockout_persistence_across_restarts [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_multi_account_independence [32mPASSED[0m[31m [ 14%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_event_bus_integration [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_database_schema_validation [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_lockout_auto_expiry [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_session_block_outside_integration.py::TestSessionBlockOutsideIntegration::test_different_timezone_support [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_cooldown_persists_across_restart [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_hard_lockout_persists_with_until_time [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_pnl_persists_across_restart [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_expired_lockout_not_restored [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_multiple_accounts_persist_independently [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_pnl_with_trade_count_persists [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_lockout_details_persist_accurately [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_state_persistence.py::TestStatePersistence::test_simultaneous_multiple_db_connections [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_order_rejection_flow_integration [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_allowed_symbol_passes_integration [32mPASSED[0m[31m [ 15%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_position_close_flow_integration [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_position_opened_triggers_violation [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_wildcard_prefix_matching_integration [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_wildcard_contains_matching_integration [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_wildcard_does_not_match_allowed_symbols [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_case_insensitive_matching_integration [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_wildcard_case_insensitive_integration [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_multi_symbol_account_selective_close [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_multiple_blocked_symbols_in_account [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_event_bus_handles_violation_errors [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_no_lockout_trade_by_trade_enforcement [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_end_to_end_multiple_event_types [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_symbol_matching_performance [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_symbol_blocks_integration.py::TestSymbolBlocksRuleIntegration::test_dynamic_blocked_list_update [32mPASSED[0m[31m [ 16%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_frequency_limit_cooldown_flow [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_rolling_window_tracking [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_multi_tier_limits [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_database_persistence [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_timer_auto_unlock_integration [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_multi_account_independence [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_session_reset [31mFAILED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_priority_order [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_concurrent_rapid_fire_trades [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_timer_cancellation_and_restart [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_database_query_performance [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_frequency_limit_integration.py::TestTradeFrequencyLimitIntegration::test_error_recovery_database_unavailable [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_auto_stop_loss_placement_es_long [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_auto_stop_loss_placement_mnq_short [32mPASSED[0m[31m [ 17%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_auto_take_profit_placement [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_bracket_order_creation [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_trailing_stop_adjustment_on_profit [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_trailing_stop_not_adjusted_on_loss [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_multi_symbol_independent_management [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_position_closed_orders_cleanup [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_event_bus_routes_to_rule [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_stop_loss_disabled_only_take_profit [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_take_profit_disabled_only_stop_loss [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_complete_order_placement_flow [32mPASSED[0m[31m [ 18%][0m
tests/integration/test_trade_management_integration.py::TestTradeManagementIntegration::test_event_processing_performance [32mPASSED[0m[31m [ 18%][0m
tests/runtime/test_async_debug.py::test_async_task_creation [32mPASSED[0m[31m       [ 18%][0m
tests/runtime/test_async_debug.py::test_async_task_lifecycle [32mPASSED[0m[31m      [ 18%][0m
tests/runtime/test_async_debug.py::test_async_task_cancellation [32mPASSED[0m[31m   [ 18%][0m
tests/runtime/test_async_debug.py::test_async_race_condition_detection [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_deadlock_prevention [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_resource_leak_detection [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_task_duration_tracking [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_slow_task_detection [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_memory_usage [32mPASSED[0m[31m        [ 19%][0m
tests/runtime/test_async_debug.py::test_async_exception_tracking [32mPASSED[0m[31m  [ 19%][0m
tests/runtime/test_async_debug.py::test_async_timeout_detection [32mPASSED[0m[31m   [ 19%][0m
tests/runtime/test_async_debug.py::test_async_task_inspection [32mPASSED[0m[31m     [ 19%][0m
tests/runtime/test_async_debug.py::test_async_event_loop_monitoring [32mPASSED[0m[31m [ 19%][0m
tests/runtime/test_async_debug.py::test_async_debug_logging [32mPASSED[0m[31m       [ 19%][0m
tests/runtime/test_dry_run.py::test_dry_run_enabled [32mPASSED[0m[31m               [ 19%][0m
tests/runtime/test_dry_run.py::test_dry_run_no_real_trades [32mPASSED[0m[31m        [ 19%][0m
tests/runtime/test_dry_run.py::test_dry_run_simulates_positions [32mPASSED[0m[31m   [ 19%][0m
tests/runtime/test_dry_run.py::test_dry_run_logs_actions [32mPASSED[0m[31m          [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_validates_operations [32mPASSED[0m[31m  [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_tracks_simulated_state [32mPASSED[0m[31m [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_pnl_calculation [32mPASSED[0m[31m       [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_state_isolation [32mPASSED[0m[31m       [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_vs_real_comparison [32mPASSED[0m[31m    [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_same_logic [32mPASSED[0m[31m            [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_detects_errors [32mPASSED[0m[31m        [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_error_handling [32mPASSED[0m[31m        [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_generates_report [32mPASSED[0m[31m      [ 20%][0m
tests/runtime/test_dry_run.py::test_dry_run_summary_statistics [32mPASSED[0m[31m    [ 20%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_initial_alive [32mPASSED[0m[31m     [ 20%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_regular_updates [32mPASSED[0m[31m   [ 20%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_timestamp_recent [32mPASSED[0m[31m  [ 20%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_health_status_healthy [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_continuous_monitoring [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_timeout_failure [32mPASSED[0m[31m   [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_monitor_stopped [32mPASSED[0m[31m   [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_degraded_health [32mPASSED[0m[31m   [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_unhealthy_status [32mPASSED[0m[31m  [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_uptime_tracking [32mPASSED[0m[31m   [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_uptime_reset_on_restart [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_recovery_after_pause [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_automatic_restart [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_metrics_collection [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_heartbeat.py::test_heartbeat_interval_consistency [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_post_conditions.py::test_post_condition_state_valid_after_trade [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_post_conditions.py::test_post_condition_positions_consistent [32mPASSED[0m[31m [ 21%][0m
tests/runtime/test_post_conditions.py::test_post_condition_rules_enforced [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_event_bus_operational [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_memory_bounds [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_invalid_state [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_data_inconsistency [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_constraint_violated [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_timeout [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_multiple_checks [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_partial_failure [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_invariant_maintained [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_referential_integrity [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_post_conditions.py::test_post_condition_audit_trail [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_smoke.py::test_smoke_basic_startup_success [32mPASSED[0m[31m     [ 22%][0m
tests/runtime/test_smoke.py::test_smoke_configuration_load_success [32mPASSED[0m[31m [ 22%][0m
tests/runtime/test_smoke.py::test_smoke_event_bus_success [32mPASSED[0m[31m         [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_rule_engine_success [32mPASSED[0m[31m       [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_state_tracking_success [32mPASSED[0m[31m    [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_missing_config_failure [32mPASSED[0m[31m    [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_invalid_config_failure [32mPASSED[0m[31m    [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_startup_timeout_failure [32mPASSED[0m[31m   [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_dependency_failure [32mPASSED[0m[31m        [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_full_suite_success [32mPASSED[0m[31m        [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_partial_failure [32mPASSED[0m[31m           [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_log_output_verification [32mPASSED[0m[31m   [ 23%][0m
tests/runtime/test_smoke.py::test_smoke_error_log_output [32mPASSED[0m[31m          [ 23%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::TestPnLLossRulesSmoke::test_rule_003_daily_realized_loss_fires [32mPASSED[0m[31m [ 23%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::TestPnLLossRulesSmoke::test_rule_013_daily_realized_profit_fires [32mPASSED[0m[31m [ 23%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::TestPnLLossRulesSmoke::test_rule_007_cooldown_after_loss_fires [32mPASSED[0m[31m [ 23%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::TestPnLLossRulesSmoke::test_rule_008_stop_loss_enforcement_fires [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::TestPnLLossRulesSmoke::test_rule_008_stop_loss_placed_cancels_timer [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_pnl_loss_rules_smoke.py::test_smoke_summary [32mPASSED[0m[31m      [ 24%][0m
tests/smoke/test_position_rules_smoke.py::TestPositionRulesSmoke::test_rule_001_max_contracts_fires [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_position_rules_smoke.py::TestPositionRulesSmoke::test_rule_002_max_contracts_per_instrument_fires [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_position_rules_smoke.py::TestPositionRulesSmoke::test_rule_004_daily_unrealized_loss_fires [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_position_rules_smoke.py::TestPositionRulesSmoke::test_rule_005_max_unrealized_profit_fires [32mPASSED[0m[31m [ 24%][0m
tests/smoke/test_position_rules_smoke.py::TestPositionRulesSmoke::test_multi_rule_smoke_all_position_rules [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_valid_env_file [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_with_comments [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_with_empty_lines [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_missing [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_with_equals_in_value [32mPASSED[0m[31m [ 24%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_with_double_quotes [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_with_single_quotes [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_empty [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_only_comments [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestLoadEnvFile::test_load_env_file_malformed_line [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_single_var [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_multiple_vars [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_no_vars [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_missing_var_raises_error [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_missing_var_keep_original [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_empty_string [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_var_at_start [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_var_at_end [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_same_var_twice [32mPASSED[0m[31m [ 25%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_from_os_environ [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVars::test_substitute_env_file_takes_precedence [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_in_dict [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_in_list [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_in_nested_structure [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_preserves_non_string_types [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_empty_dict [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_empty_list [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_with_missing_var [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestSubstituteEnvVarsRecursive::test_substitute_plain_string [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_all_vars_present [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_missing_single_var [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_missing_multiple_vars [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_no_required_vars [32mPASSED[0m[31m [ 26%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_vars_from_os_environ [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_env.py::TestValidateEnvVars::test_validate_empty_value_counts_as_present [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_valid_config [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_valid_time_formats [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_time_format_hour_too_high [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_time_format_minute_too_high [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_time_format_no_colon [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_time_format_12hour [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_time_format_single_digit [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_valid_timezone_us_central [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_valid_timezone_us_eastern [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_valid_timezone_europe [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_timezone_abbreviation [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_timezone_typo [32mPASSED[0m[31m [ 27%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_invalid_timezone_fake [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_default_enabled_true [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestDailyResetConfig::test_reset_actions_default_all_true [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestHardLockoutConfig::test_valid_config_defaults [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestHardLockoutConfig::test_auth_loss_guard_must_be_permanent [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestHardLockoutConfig::test_auth_loss_guard_time_duration_raises_error [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestHardLockoutConfig::test_auth_loss_guard_until_reset_raises_error [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestHardLockoutConfig::test_other_lockouts_can_be_until_reset [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_valid_duration_seconds [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_valid_duration_minutes [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_valid_duration_hours [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_valid_special_value_until_reset [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_valid_special_value_permanent [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_no_unit [32mPASSED[0m[31m [ 28%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_wrong_format [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_seconds_out_of_range_too_high [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_seconds_out_of_range_zero [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_minutes_out_of_range [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_invalid_duration_hours_out_of_range [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestLockoutDurationsConfig::test_nested_trade_frequency_durations [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_valid_config [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_end_after_start_valid [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_end_before_start_raises_error [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_end_equals_start_raises_error [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_allowed_days_default_weekdays [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_allowed_days_valid_range [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_allowed_days_empty_raises_error [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_allowed_days_out_of_range_raises_error [32mPASSED[0m[31m [ 29%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_allowed_days_negative_raises_error [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_pre_market_enabled_before_start [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_pre_market_after_session_start_raises_error [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_pre_market_equals_session_start_raises_error [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_after_hours_enabled_after_end [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_after_hours_before_session_end_raises_error [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestSessionHoursConfig::test_after_hours_equals_session_end_raises_error [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_valid_config [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_valid_date_formats [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_invalid_date_format_no_dashes [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_invalid_date_format_slash [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_invalid_date_value [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_invalid_date_feb_30 [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_valid_close_time_format [32mPASSED[0m[31m [ 30%][0m
tests/unit/test_config/test_config_models.py::TestEarlyCloseConfig::test_invalid_close_time_format [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_valid_config_empty [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_valid_dates_single_year [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_valid_dates_multiple_years [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_invalid_year_too_low [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_invalid_year_too_high [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_invalid_date_format_in_list [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_invalid_date_value_in_list [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestHolidaysConfig::test_early_close_list [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestTimersConfig::test_valid_config_same_timezone [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestTimersConfig::test_timezone_mismatch_triggers_warning [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_valid_config [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_limit_must_be_positive [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_limit_negative_raises_error [32mPASSED[0m[31m [ 31%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_close_all_must_be_false [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_count_type_net_default [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsConfig::test_count_type_gross [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsPerInstrumentConfig::test_valid_config [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsPerInstrumentConfig::test_instrument_limits_positive_only [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsPerInstrumentConfig::test_instrument_limits_negative_raises_error [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxContractsPerInstrumentConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestDailyUnrealizedLossConfig::test_valid_config [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestDailyUnrealizedLossConfig::test_limit_must_be_negative [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestDailyUnrealizedLossConfig::test_limit_zero_raises_error [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestDailyUnrealizedLossConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxUnrealizedProfitConfig::test_valid_config [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxUnrealizedProfitConfig::test_target_must_be_positive [32mPASSED[0m[31m [ 32%][0m
tests/unit/test_config/test_config_models.py::TestMaxUnrealizedProfitConfig::test_target_zero_raises_error [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestMaxUnrealizedProfitConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestNoStopLossGraceConfig::test_valid_config [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestNoStopLossGraceConfig::test_require_within_must_be_positive [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestNoStopLossGraceConfig::test_grace_period_must_be_positive [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestNoStopLossGraceConfig::test_grace_period_less_than_require_within_warning [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestNoStopLossGraceConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestSymbolBlocksConfig::test_valid_config [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestSymbolBlocksConfig::test_empty_blocked_symbols [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestSymbolBlocksConfig::test_close_all_true_raises_error [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestFrequencyLimitsConfig::test_valid_config [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestFrequencyLimitsConfig::test_limits_must_be_positive [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestFrequencyLimitsConfig::test_logical_hierarchy_valid [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestFrequencyLimitsConfig::test_per_minute_greater_than_per_hour_raises_error [32mPASSED[0m[31m [ 33%][0m
tests/unit/test_config/test_config_models.py::TestFrequencyLimitsConfig::test_per_hour_greater_than_per_session_raises_error [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestTradeFrequencyLimitConfig::test_valid_config [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestTradeFrequencyLimitConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestTradeFrequencyLimitConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestCooldownAfterLossConfig::test_valid_config [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestCooldownAfterLossConfig::test_loss_threshold_must_be_negative [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestCooldownAfterLossConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestCooldownAfterLossConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedLossConfig::test_valid_config [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedLossConfig::test_limit_must_be_negative [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedLossConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedLossConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedProfitConfig::test_valid_config [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedProfitConfig::test_target_must_be_positive [32mPASSED[0m[31m [ 34%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedProfitConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestDailyRealizedProfitConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestSessionBlockOutsideConfig::test_valid_config [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestSessionBlockOutsideConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestSessionBlockOutsideConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestAuthLossGuardConfig::test_valid_config [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestAuthLossGuardConfig::test_close_all_must_be_true [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestAuthLossGuardConfig::test_close_all_false_raises_error [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestAuthLossGuardConfig::test_lockout_permanently_must_be_true [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestAuthLossGuardConfig::test_lockout_permanently_false_raises_error [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestTradeManagementConfig::test_valid_config [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestTradeManagementConfig::test_activation_threshold_warning [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestRulesConfig::test_loss_limit_hierarchy_warning [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestRulesConfig::test_profit_target_hierarchy_warning [32mPASSED[0m[31m [ 35%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_valid_config [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_valid_https_url [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_valid_wss_url [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_invalid_http_url_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_invalid_ws_url_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestTopstepXConfig::test_invalid_ftp_url_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountConfig::test_valid_config [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountConfig::test_risk_config_file_exists [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountConfig::test_risk_config_file_not_exists_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountConfig::test_cannot_specify_both_file_and_overrides [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountsConfig::test_valid_config_multi_account [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestAccountsConfig::test_duplicate_account_ids_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestProjectXConfig::test_valid_config [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestProjectXConfig::test_invalid_http_url_raises_error [32mPASSED[0m[31m [ 36%][0m
tests/unit/test_config/test_config_models.py::TestProjectXConfig::test_invalid_url_no_protocol_raises_error [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestReconnectConfig::test_valid_config [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestReconnectConfig::test_initial_delay_greater_than_max_delay_raises_error [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestReconnectConfig::test_initial_delay_equals_max_delay_valid [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestRetryConfig::test_valid_config [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestRetryConfig::test_max_attempts_must_be_positive [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestRetryConfig::test_backoff_multiplier_must_be_positive [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestGeneralConfig::test_valid_config [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestGeneralConfig::test_instruments_must_not_be_empty [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestGeneralConfig::test_invalid_timezone_raises_error [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestNestedModels::test_timers_config_nested_validation [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestNestedModels::test_risk_config_nested_validation [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestNestedModels::test_api_config_nested_validation [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestDefaultValues::test_daily_reset_config_defaults [32mPASSED[0m[31m [ 37%][0m
tests/unit/test_config/test_config_models.py::TestDefaultValues::test_lockout_durations_defaults [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestDefaultValues::test_session_hours_defaults [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestDefaultValues::test_max_contracts_defaults [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_time_boundary_00_00 [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_time_boundary_23_59 [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_limit_exactly_at_boundary [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_frequency_limits_equal_values [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_duration_at_max_seconds [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_duration_at_max_minutes [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_duration_at_max_hours [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_year_boundary_2000 [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_year_boundary_2100 [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_leap_year_date_valid [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_config_models.py::TestEdgeCases::test_optional_fields_none [32mPASSED[0m[31m [ 38%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_load_from_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variables_override_defaults [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_explicit_params_override_env [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_partial_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_case_insensitive [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_with_prefix [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_boolean_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_integer_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_float_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_optional_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_missing_optional_env_variables [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_file_loading [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variables_override_env_file [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_empty_env_variable [32mPASSED[0m[31m [ 39%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_whitespace_env_variable [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_with_special_characters [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_multiline_env_variable [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_validation_alias [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_url_env_variables [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_all_fields_from_env [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_type_coercion_errors [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_missing_required_env_variable [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_file_with_comments [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_file_with_quotes [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_file_with_equals_in_value [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_file_missing [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_combined_yaml_and_env [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_env_substitution.py::TestEnvironmentVariableSubstitution::test_env_variable_unicode [32mPASSED[0m[31m [ 40%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_with_valid_directory [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_with_string_path [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_with_relative_path [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_missing_directory_raises_error [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_custom_env_file [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderInit::test_init_default_env_file [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_valid_yaml_file [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_not_found [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_empty_raises_error [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_with_comments [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_invalid_syntax_with_line_info [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_invalid_syntax_without_line_info [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_with_env_var_substitution [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_missing_env_var_raises_error [32mPASSED[0m[31m [ 41%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_read_permission_error [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadYamlFile::test_load_yaml_file_with_nested_structure [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_valid_data [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_invalid_data_raises_error [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_missing_required_field [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_multiple_errors_shown [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_field_location_in_error [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestValidateWithPydantic::test_validate_unexpected_exception [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadTimersConfig::test_load_timers_config_success [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadTimersConfig::test_load_timers_config_file_not_found [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadTimersConfig::test_load_timers_config_custom_filename [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadTimersConfig::test_load_timers_config_validation_error [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadTimersConfig::test_load_timers_config_model_not_found [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadRiskConfig::test_load_risk_config_success [32mPASSED[0m[31m [ 42%][0m
tests/unit/test_config/test_loader.py::TestLoadRiskConfig::test_load_risk_config_file_not_found [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadRiskConfig::test_load_risk_config_custom_filename [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAccountsConfig::test_load_accounts_config_success [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAccountsConfig::test_load_accounts_config_file_not_found [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAccountsConfig::test_load_accounts_config_custom_filename [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadApiConfig::test_load_api_config_success [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadApiConfig::test_load_api_config_file_not_found_returns_none [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadApiConfig::test_load_api_config_custom_filename [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadApiConfig::test_load_api_config_validation_error [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAllConfigs::test_load_all_configs_success [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAllConfigs::test_load_all_configs_without_optional_api [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAllConfigs::test_load_all_configs_first_failure_stops [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestLoadAllConfigs::test_load_all_configs_returns_dict_with_correct_keys [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestConfigurationError::test_configuration_error_is_exception [32mPASSED[0m[31m [ 43%][0m
tests/unit/test_config/test_loader.py::TestConfigurationError::test_configuration_error_message [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_loader.py::TestConfigurationError::test_configuration_error_raised_properly [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderIntegration::test_full_config_loading_workflow [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_loader.py::TestConfigLoaderIntegration::test_error_message_quality [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_valid_config_minimal [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_valid_config_all_fields [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_missing_required_field_api_key [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_missing_required_field_username [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_missing_both_required_fields [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_invalid_max_contracts_negative [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_invalid_max_contracts_zero [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_max_daily_loss_positive [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_max_daily_loss_zero [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_optional_fields_none [32mPASSED[0m[31m [ 44%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_log_level_valid_values [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_log_level_case_insensitive [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_boolean_fields_true [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_boolean_fields_false [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_integer_fields_valid [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_float_fields_valid [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_string_fields_empty [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_extra_fields_ignored [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_to_dict_method [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_model_dump_includes_all_fields [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_environment_field_values [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_url_fields_format [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_type_coercion_string_to_int [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_type_coercion_string_to_float [32mPASSED[0m[31m [ 45%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_type_coercion_string_to_bool [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_invalid_type_for_int_field [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_invalid_type_for_float_field [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_config_equality [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_models.py::TestRiskConfigModel::test_config_immutability_after_creation [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_valid_time_midnight [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_valid_time_noon [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_valid_time_end_of_day [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_valid_time_morning [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_valid_time_afternoon [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_hour_25 [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_hour_99 [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_hour_24 [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_minute_60 [32mPASSED[0m[31m [ 46%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_minute_99 [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_single_digit_hour [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_single_digit_minute [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_12_hour_am [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_12_hour_pm [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_random_string [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_invalid_format_no_colon [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_custom_field_name_in_error [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimeFormat::test_error_message_contains_example [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_valid_date_new_year [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_valid_date_end_of_year [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_valid_date_july_4th [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_valid_date_leap_year [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_month_13 [32mPASSED[0m[31m [ 47%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_month_00 [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_day_feb_30 [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_day_april_31 [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_day_feb_29_non_leap [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_format_slashes [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_format_us_style [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_invalid_format_random_string [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_custom_field_name_in_error [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDateFormat::test_error_message_contains_example [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_valid_timezone_chicago [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_valid_timezone_london [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_valid_timezone_utc [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_valid_timezone_new_york [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_valid_timezone_tokyo [32mPASSED[0m[31m [ 48%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_invalid_abbreviation_cst [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_invalid_abbreviation_est [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_invalid_abbreviation_pst [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_invalid_name_typo [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_invalid_name_fake [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_custom_field_name_in_error [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateTimezone::test_error_message_warns_against_abbreviations [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_duration_seconds [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_duration_minutes [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_duration_hours [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_duration_large_minutes [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_special_until_reset [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_special_until_session_start [32mPASSED[0m[31m [ 49%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_valid_special_permanent [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_invalid_format_no_unit [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_invalid_format_number_only [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_invalid_format_random_string [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_invalid_format_days_unit [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_invalid_format_weeks_unit [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_custom_field_name_in_error [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateDurationFormat::test_error_message_contains_examples [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_positive_integer_valid [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_positive_large_integer_valid [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_positive_float_valid [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_zero_with_allow_zero_true [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_zero_with_allow_zero_false_raises [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_zero_default_raises [32mPASSED[0m[31m [ 50%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_negative_integer_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_negative_large_integer_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_negative_float_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_field_name_in_error_message [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidatePositive::test_error_message_shows_entered_value [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_negative_float_valid [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_negative_integer_valid [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_negative_small_float_valid [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_positive_float_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_positive_integer_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_zero_raises [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_field_name_in_error_message [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_error_message_shows_entered_value [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateNegative::test_error_message_suggests_fix [32mPASSED[0m[31m [ 51%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_valid_value_first_option [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_valid_value_second_option [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_valid_value_middle_option [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_invalid_value_raises [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_case_sensitive_uppercase_fails [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_case_sensitive_lowercase_fails [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_field_name_in_error_message [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestValidationHelpers::TestValidateEnum::test_error_message_shows_allowed_values [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_until_reset_with_daily_reset_enabled_passes [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_until_reset_with_daily_reset_disabled_raises_error [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_until_reset_profit_with_daily_reset_disabled_raises_error [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_until_session_start_with_session_hours_enabled_passes [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_until_session_start_with_session_hours_disabled_raises_error [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateTimerReferences::test_other_durations_pass_regardless [32mPASSED[0m[31m [ 52%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateHolidayReferences::test_respect_holidays_true_with_holidays_enabled_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateHolidayReferences::test_respect_holidays_true_with_holidays_disabled_raises_error [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateHolidayReferences::test_respect_holidays_false_with_holidays_disabled_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateHolidayReferences::test_rule_disabled_skips_validation [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateInstrumentReferences::test_instrument_limits_match_general_instruments_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateInstrumentReferences::test_instrument_limits_reference_missing_instrument_raises_error [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateInstrumentReferences::test_blocked_symbols_not_in_instruments_warns [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateInstrumentReferences::test_empty_instrument_limits_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_unique_account_ids_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_duplicate_account_ids_raises_error [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_risk_config_file_exists_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_risk_config_file_missing_raises_error [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_both_file_and_overrides_raises_error [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAccounts::test_neither_file_nor_overrides_passes [32mPASSED[0m[31m [ 53%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAll::test_no_errors_returns_empty_list [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAll::test_multiple_errors_returns_all_errors [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestConfigValidator::TestValidateAll::test_accounts_config_optional [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestTimeRangeValidator::test_end_after_start_passes [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestTimeRangeValidator::test_end_equals_start_raises [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestTimeRangeValidator::test_end_before_start_raises [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestTimeRangeValidator::test_custom_field_names_in_error [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestLossHierarchyValidator::test_unrealized_less_than_realized_passes [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestLossHierarchyValidator::test_unrealized_equals_realized_raises [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestLossHierarchyValidator::test_unrealized_greater_than_realized_raises [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestLossHierarchyValidator::test_both_negative_values [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestContractHierarchyValidator::test_per_instrument_less_than_total_passes [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestContractHierarchyValidator::test_per_instrument_equals_total_passes [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestContractHierarchyValidator::test_per_instrument_greater_than_total_raises [32mPASSED[0m[31m [ 54%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestFrequencyHierarchyValidator::test_valid_hierarchy_passes [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestFrequencyHierarchyValidator::test_per_minute_times_60_exceeds_per_hour_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestFrequencyHierarchyValidator::test_per_hour_times_8_exceeds_per_session_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestFrequencyHierarchyValidator::test_none_values_handled_gracefully [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateTradeByTradeEnforcement::test_close_all_false_close_position_true_passes [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateTradeByTradeEnforcement::test_close_all_true_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateTradeByTradeEnforcement::test_close_position_false_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateTradeByTradeEnforcement::test_rule_name_in_error [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateHardLockoutEnforcement::test_close_all_true_lockout_hard_passes [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateHardLockoutEnforcement::test_close_all_false_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateHardLockoutEnforcement::test_lockout_type_timer_raises [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestModelValidatorMixins::TestCategoryEnforcementValidator::TestValidateHardLockoutEnforcement::test_rule_name_in_error [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_single_error_formatted_correctly [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_multiple_errors_formatted_correctly [32mPASSED[0m[31m [ 55%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_error_includes_field_location [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_error_includes_error_message [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_error_count_shown [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_config/test_validator.py::TestFormatValidationErrors::test_separator_line_present [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_enforcement_wiring.py::TestEnforcementWiring::test_engine_accepts_trading_integration [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_enforcement_wiring.py::TestEnforcementWiring::test_flatten_all_calls_trading_integration [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_enforcement_wiring.py::TestEnforcementWiring::test_flatten_all_without_trading_integration [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_enforcement_wiring.py::TestEnforcementWiring::test_enforcement_from_violation [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestEventBus::test_create_event_bus [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestEventBus::test_subscribe_to_event [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestEventBus::test_subscribe_multiple_callbacks [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestEventBus::test_unsubscribe_from_event [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestRiskEvent::test_create_event [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestRiskEvent::test_event_has_timestamp [32mPASSED[0m[31m [ 56%][0m
tests/unit/test_core/test_events.py::TestEventType::test_event_types_exist [32mPASSED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_creates_components [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_sets_up_logging [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_logs_startup [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_with_log_file [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_with_default_config [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_with_instruments [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_with_rules_override [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_with_config_file [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_with_ai_enabled [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerCreate::test_create_without_ai [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerIntegrations::test_init_trading_integration [33mSKIPPED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerIntegrations::test_init_ai_integration_success [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerIntegrations::test_init_ai_integration_import_error [31mFAILED[0m[31m [ 57%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_default_rules_daily_loss [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_default_rules_max_position [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_default_rules_both [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_default_rules_none [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_rule [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_start_when_not_running [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_start_when_already_running [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_start_without_integrations [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_start_subscribes_to_events [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_stop_when_running [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_stop_when_not_running [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_stop_cancels_tasks [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerLifecycle::test_wait_until_stopped [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerEventHandling::test_handle_fill_event [31mFAILED[0m[31m [ 58%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerEventHandling::test_handle_position_update_event [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerEventHandling::test_on_subscribe_to_events [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerStats::test_get_stats_with_all_components [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerStats::test_get_stats_without_trading [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerErrorHandling::test_start_with_engine_error [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerErrorHandling::test_stop_with_component_error [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerErrorHandling::test_handle_fill_with_engine_error [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerIntegration::test_full_lifecycle_with_trading [33mSKIPPED[0m[31m [ 59%][0m
tests/unit/test_core/test_manager.py::TestRiskManagerIntegration::test_event_flow_integration [31mFAILED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_tick_sizes_all_025 [32mPASSED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_point_values_correct [32mPASSED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_tick_value_consistency [32mPASSED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.0-5000.0] [32mPASSED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.12-5000.0] [32mPASSED[0m[31m [ 59%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.25-5000.25] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.37-5000.25] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.5-5000.5] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.62-5000.5] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.75-5000.75] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.87-5000.75] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_price_rounding_to_valid_ticks[5000.88-5001.0] [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_pnl_es_long_profit [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_pnl_es_long_loss [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_pnl_mnq_long_loss [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_pnl_nq_short_profit [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_instrument_economics.py::TestInstrumentEconomics::test_pnl_mes_short_loss [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_rule_initialization [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_rule_initialization_custom_settings [32mPASSED[0m[31m [ 60%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_disconnected_creates_alert [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_disconnected_updates_connection_state [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_disconnected_disabled_returns_none [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_disconnected_no_account_id_returns_none [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_connected_no_alert [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_sdk_connected_updates_connection_state [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_auth_failed_creates_alert [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_auth_failed_disabled_returns_none [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_auth_failed_no_account_id_returns_none [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_auth_success_no_alert [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_position_updated_ignored [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_order_filled_ignored [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_trade_executed_ignored [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_get_connection_status_unknown_account [32mPASSED[0m[31m [ 61%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_get_connection_status_known_account [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_get_last_alert_time_unknown_account [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_last_alert_time_tracked [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_multiple_accounts_independent [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_one_account_reconnects [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_enforce_does_nothing [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_disconnect_alert_has_required_fields [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_auth_failed_alert_has_required_fields [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_auth_loss_guard.py::TestAuthLossGuardRuleUnit::test_alert_timestamp_is_iso_format [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_rule_initialization [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_rule_initialization_validates_thresholds [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_rule_initialization_validates_duration [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_rule_initialization_sorts_thresholds [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_winning_trade_no_cooldown [32mPASSED[0m[31m [ 62%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_breakeven_trade_no_cooldown [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_small_loss_below_threshold [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_loss_at_threshold_triggers_cooldown [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_loss_exceeds_threshold_triggers_cooldown [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_tiered_cooldown_tier1 [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_tiered_cooldown_tier2 [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_tiered_cooldown_tier3 [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_tiered_cooldown_selects_highest_tier [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_cooldown_starts_timer [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_cooldown_expires_unlocks_account [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_already_in_cooldown_skips_evaluation [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_half_turn_trade_ignored [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_only_evaluates_trade_executed_events [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_evaluates_position_closed_events [32mPASSED[0m[31m [ 63%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_missing_account_id [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_missing_pnl_field [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_cooldown_after_loss.py::TestCooldownAfterLossRule::test_violation_message_clarity [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_rule_initialization_default_action [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_rule_initialization_custom_action [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_rule_initialization_pause_action [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_positive_limit_raises_error [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_zero_limit_raises_error [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_small_positive_limit_raises_error [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_ignores_non_pnl_events [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_evaluates_pnl_updated_event [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_evaluates_position_closed_event [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_disabled_rule_returns_none [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_enabled_rule_evaluates_normally [32mPASSED[0m[31m [ 64%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pnl_within_limit_no_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_zero_pnl_no_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_positive_pnl_no_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_small_loss_no_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pnl_exactly_at_limit_triggers_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pnl_one_cent_below_limit_no_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pnl_exceeds_limit_triggers_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pnl_one_cent_over_limit_triggers_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_large_loss_triggers_violation [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_contains_rule_name [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_contains_message [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_contains_current_loss [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_contains_limit [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_contains_action [32mPASSED[0m[31m [ 65%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_alert_action_in_violation [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_pause_action_in_violation [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_small_limit_value [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_large_limit_value [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_fractional_limit_value [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_message_shows_formatted_values [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_message_clarity [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_consecutive_violations [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_violation_then_recovery [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_very_small_breach [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_loss.py::TestDailyLossRuleUnit::test_negative_limit_with_large_negative_pnl [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_rule_initialization [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_rule_initialization_custom_limit [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_rule_initialization_validates_limit [32mPASSED[0m[31m [ 66%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_loss_below_limit_passes [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_profitable_day_passes [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_loss_at_limit_passes [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_loss_exceeds_limit_violates [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_large_loss_violates [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_violation_triggers_lockout [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_lockout_persists_until_reset [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_multi_symbol_loss_tracking [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_ignores_half_turn_trades [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_counts_only_closed_positions [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_approaching_limit_warning [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_rule_disabled_when_locked [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_enforcement_action_correct [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_only_evaluates_pnl_events [32mPASSED[0m[31m [ 67%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_evaluates_pnl_updated_event [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_zero_pnl [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_missing_pnl_data [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_loss.py::TestDailyRealizedLossRule::test_violation_message_clarity [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_rule_initialization [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_rule_initialization_custom_target [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_rule_initialization_validates_target [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_profit_below_target_passes [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_losing_day_passes [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_profit_at_target_violates [31mFAILED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_profit_exceeds_target_violates [31mFAILED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_large_profit_violates [31mFAILED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_violation_triggers_lockout [31mFAILED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_lockout_persists_until_reset [32mPASSED[0m[31m [ 68%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_multi_symbol_profit_tracking [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_ignores_half_turn_trades [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_counts_only_closed_positions [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_approaching_target_no_violation [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_rule_disabled_when_locked [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_enforcement_action_correct [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_only_evaluates_pnl_events [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_evaluates_pnl_updated_event [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_zero_pnl [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_missing_pnl_data [32mPASSED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_violation_message_clarity [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_mixed_trades_reach_target [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_success_message_positive_tone [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_cannot_trigger_both_profit_and_loss [31mFAILED[0m[31m [ 69%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_rule_can_be_disabled [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_enforce_method_sets_lockout [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_realized_profit.py::TestDailyRealizedProfitRule::test_reset_time_calculation [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_rule_initialization [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_rule_initialization_validates_negative_limit [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_loss_within_limit_passes [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_zero_loss_passes [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_profit_does_not_trigger [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_loss_at_exact_limit_violates [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_loss_exceeds_limit_violates [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_short_position_loss_exceeds_limit [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_violation_targets_specific_position_only [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_violation_does_not_create_lockout [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_multi_symbol_independent_tracking [32mPASSED[0m[31m [ 70%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_long_position_pnl_calculation [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_es_position_pnl_calculation [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_only_evaluates_position_events [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_evaluates_position_updated_event [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_missing_market_price_returns_none [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_missing_position_data_returns_none [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_small_loss_within_limit [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_disabled_rule_does_not_trigger [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_rule_name [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_rty_symbol_tick_calculation [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_evaluates_position_opened_event [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_daily_unrealized_loss.py::TestDailyUnrealizedLossRule::test_zero_size_position_returns_zero_pnl [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_006_trade_frequency_per_minute_fires [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_006_trade_frequency_per_hour_fires [32mPASSED[0m[31m [ 71%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_009_session_block_outside_fires [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_009_weekend_block_fires [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_010_auth_loss_guard_disconnected_alert [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_010_auth_failure_alert [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_010_connection_restored_clears_state [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_011_symbol_blocks_exact_match_fires [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_011_symbol_blocks_case_insensitive [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_011_symbol_blocks_wildcard_match [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_011_symbol_blocks_allows_non_blocked [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_012_trade_management_auto_stop_loss [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_012_trade_management_bracket_order [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_012_trade_management_trailing_stop [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestFreqSessionMiscRulesSmoke::test_rule_012_trade_management_short_position [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_freq_session_misc_smoke.py::TestAllFreqSessionMiscSmoke::test_all_rules_smoke_suite [32mPASSED[0m[31m [ 72%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_basic [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_custom_enforcement [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_unknown_symbol_allow_unlimited [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_unknown_symbol_with_limit [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_invalid_unknown_symbol_action [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_empty_limits [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_rule_initialization_multiple_symbols [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_ignores_non_position_events [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_evaluates_position_opened_event [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_evaluates_position_updated_event [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_position_within_limit_no_breach [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_zero_position_no_breach [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_position_at_exact_limit_no_breach [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_position_exceeds_limit_triggers_breach [32mPASSED[0m[31m [ 73%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_position_one_over_limit_triggers_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_large_position_exceeds_limit [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_short_position_within_limit_no_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_short_position_exceeds_limit_triggers_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_short_position_at_limit_no_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_multiple_symbols_each_within_limit [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_one_symbol_breaches_while_others_ok [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_different_limits_for_different_symbols [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_block_mode_triggers_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_block_mode_zero_position [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_allow_unlimited_no_breach [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_allow_unlimited_multiple_sizes [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_with_default_limit_within [32mPASSED[0m[31m [ 74%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_with_default_limit_exceeds [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_default_limit_at_boundary [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_breach_stores_context [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_breach_context_includes_enforcement_type [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_unknown_symbol_breach_stores_reason [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_reduce_to_limit [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_reduce_to_zero_closes_position [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_close_all [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_clears_context_after_execution [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_handles_missing_context [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforce_handles_missing_executor [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_missing_symbol_returns_false [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_missing_contract_id_returns_false [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_missing_size_defaults_to_zero [32mPASSED[0m[31m [ 75%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_get_status_returns_configuration [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_get_status_includes_all_fields [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_empty_data_dict [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_negative_size_uses_absolute_value [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_enforcement_failure_logged [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_zero_limit_blocks_all_positions [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_contracts_per_instrument.py::TestMaxContractsPerInstrumentRuleUnit::test_large_limit_allows_large_positions [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_rule_initialization [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_rule_initialization_custom_action [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_position_below_limit_passes [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_zero_position_passes [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_position_at_limit_passes [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_position_exceeds_limit_violates [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_large_position_violates [32mPASSED[0m[31m [ 76%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_multi_symbol_total_below_limit [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_multi_symbol_total_exceeds_limit [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_short_position_below_limit [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_short_position_exceeds_limit [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_flatten_action_in_violation [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_reject_action_in_violation [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_only_evaluates_position_events [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_evaluates_order_filled_event [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_negative_limit_raises_error [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_zero_limit [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_missing_position_data [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_position_rule.py::TestMaxPositionRuleUnit::test_violation_message_clarity [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_rule_initialization [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_rule_initialization_validates_positive_target [32mPASSED[0m[31m [ 77%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_profit_below_target_passes [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_zero_profit_passes [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_profit_at_exact_target_passes [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_profit_exceeds_target_violates [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_short_position_profit_exceeds_target [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_violation_targets_specific_position_only [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_violation_does_not_create_lockout [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_multi_symbol_independent_tracking [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_long_position_pnl_calculation [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_mnq_position_pnl_calculation [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_only_evaluates_position_events [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_evaluates_position_updated_event [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_missing_market_price_returns_none [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_max_unrealized_profit.py::TestMaxUnrealizedProfitRule::test_missing_position_data_returns_none [32mPASSED[0m[31m [ 78%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_rule_initialization [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_rule_can_be_disabled [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_position_opened_starts_grace_period_timer [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_position_opened_with_zero_size_ignored [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_position_opened_missing_contract_id_ignored [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_stop_order_placed_cancels_grace_period [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_stop_order_without_stop_price_ignored [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_non_stop_order_ignored [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_stop_order_for_different_position_ignored [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_grace_period_expiry_closes_position [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_grace_period_expiry_with_actual_timer [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_position_closed_cancels_grace_period [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_multiple_positions_tracked_separately [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_rule_disabled_no_timers_started [32mPASSED[0m[31m [ 79%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_get_status [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_position_reopened_restarts_timer [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_enforcement_failure_logged [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_no_stop_loss_grace.py::test_ignore_non_position_and_order_events [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_rule_initialization [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_rule_initialization_with_custom_hours [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_rule_initialization_validates_time_format [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_rule_disabled_when_config_disabled [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_converts_et_to_utc_correctly [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_handles_dst_transitions [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_inside_hours_passes [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_at_session_start_passes [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_just_before_session_end_passes [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_before_session_start_violates [32mPASSED[0m[31m [ 80%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_after_session_end_violates [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_at_session_end_violates [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_on_saturday_violates [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_trading_on_sunday_violates [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_weekend_blocking_can_be_disabled [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_violation_triggers_lockout_until_session_start [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_lockout_skips_weekends [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_enforcement_sets_lockout [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_only_evaluates_position_events [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_evaluates_position_opened_event [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_handles_missing_account_id_gracefully [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_rule_disabled_skips_evaluation [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_already_locked_account_skips_evaluation [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_violation_message_clarity [32mPASSED[0m[31m [ 81%][0m
tests/unit/test_rules/test_session_block_outside.py::TestSessionBlockOutsideRule::test_different_timezones_supported [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_rule_initialization [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_rule_initialization_with_wildcards [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_rule_initialization_empty_list [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_allowed_symbol_passes [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_multiple_allowed_symbols_pass [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_blocked_symbol_violates [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_position_in_blocked_symbol_violates [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_all_blocked_symbols_violate [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_case_insensitive_uppercase [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_case_insensitive_lowercase [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_case_insensitive_mixed_case [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_wildcard_prefix_match [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_wildcard_contains_match [32mPASSED[0m[31m [ 82%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_wildcard_no_match [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_wildcard_case_insensitive [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_evaluates_order_placed_event [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_evaluates_position_opened_event [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_evaluates_position_updated_event [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_ignores_irrelevant_events [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_no_lockout_on_violation [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_empty_blocked_list_allows_all [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_missing_symbol_in_event [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_none_symbol_in_event [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_disabled_rule_allows_all [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_violation_message_clarity [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_violation_includes_rule_name [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_multiple_exact_matches [32mPASSED[0m[31m [ 83%][0m
tests/unit/test_rules/test_symbol_blocks.py::TestSymbolBlocksRuleUnit::test_mixed_exact_and_wildcard [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_rule_initialization [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_rule_initialization_custom_limits [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_rule_initialization_validates_limits [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_trades_within_minute_limit_passes [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_trades_within_hour_limit_passes [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_first_trade_of_day_passes [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_trades_at_minute_limit_passes [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_per_minute_limit_exceeded_violates [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_per_minute_limit_significantly_exceeded [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_per_hour_limit_exceeded_violates [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_per_session_limit_exceeded_violates [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_violation_starts_cooldown_timer [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_different_cooldowns_for_different_breaches [32mPASSED[0m[31m [ 84%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_rolling_window_only_counts_recent_trades [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_old_trades_expire_from_window [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_multiple_accounts_tracked_independently [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_cooldown_auto_unlocks_via_timer [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_minute_limit_takes_priority [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_only_evaluates_trade_executed_events [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_evaluates_all_trade_types [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_missing_account_id [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_database_error_handled [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_zero_cooldown_duration [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_violation_message_clarity [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_violation_includes_countdown_info [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_frequency_limit.py::TestTradeFrequencyLimitRule::test_rule_disabled_skips_evaluation [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_rule_initialization [32mPASSED[0m[31m [ 85%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_rule_initialization_with_partial_config [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_place_stop_loss_on_long_position_open [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_place_stop_loss_on_short_position_open [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_place_take_profit_on_long_position_open [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_place_take_profit_on_short_position_open [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_place_bracket_order_on_position_open [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_adjust_trailing_stop_on_profit [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_trailing_stop_not_adjusted_on_loss [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_no_stop_loss_when_disabled [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_independent_management_per_symbol [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_only_evaluates_position_events [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_evaluates_position_opened_event [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_missing_symbol_returns_none [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_missing_position_data_returns_none [32mPASSED[0m[31m [ 86%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_rule_disabled_returns_none [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_calculate_stop_price_long [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_calculate_stop_price_short [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_calculate_target_price_long [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_rules/test_trade_management.py::TestTradeManagementRule::test_calculate_target_price_short [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestEnforcementExecutorInitialization::test_initialization_with_suite_manager [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestEnforcementExecutorInitialization::test_initialization_logs_success [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestCloseAllPositions::test_close_all_positions_single_symbol_success [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestCloseAllPositions::test_close_all_positions_no_positions [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestCloseAllPositions::test_close_all_positions_suite_not_found [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestCloseAllPositions::test_close_all_positions_partial_failure [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestCloseAllPositions::test_close_all_positions_all_symbols [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestClosePosition::test_close_position_success [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestClosePosition::test_close_position_suite_not_found [32mPASSED[0m[31m [ 87%][0m
tests/unit/test_sdk/test_enforcement.py::TestClosePosition::test_close_position_failure [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestReducePositionToLimit::test_reduce_position_to_limit_success [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestReducePositionToLimit::test_reduce_position_already_below_target [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestReducePositionToLimit::test_reduce_position_not_found [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestReducePositionToLimit::test_reduce_position_suite_not_found [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestReducePositionToLimit::test_reduce_position_short_position [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelAllOrders::test_cancel_all_orders_single_symbol_success [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelAllOrders::test_cancel_all_orders_no_orders [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelAllOrders::test_cancel_all_orders_suite_not_found [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelAllOrders::test_cancel_all_orders_partial_failure [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelAllOrders::test_cancel_all_orders_all_symbols [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelOrder::test_cancel_order_success [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelOrder::test_cancel_order_suite_not_found [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestCancelOrder::test_cancel_order_failure [32mPASSED[0m[31m [ 88%][0m
tests/unit/test_sdk/test_enforcement.py::TestFlattenAndCancel::test_flatten_and_cancel_success [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_enforcement.py::TestFlattenAndCancel::test_flatten_and_cancel_partial_failure [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_enforcement.py::TestFlattenAndCancel::test_flatten_and_cancel_all_symbols [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_enforcement.py::TestLogging::test_enforcement_action_logged_close_all [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_enforcement.py::TestLogging::test_flatten_and_cancel_critical_logging [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeInitialization::test_initialization_with_dependencies [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeInitialization::test_initialization_logs_success [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeLifecycle::test_start_bridge [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeLifecycle::test_start_subscribes_to_existing_suites [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeLifecycle::test_stop_bridge [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventBridgeLifecycle::test_stop_handles_cancelled_tasks [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestSuiteSubscription::test_subscribe_to_suite_registers_callbacks [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestSuiteSubscription::test_subscribe_to_suite_no_realtime_client [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestSuiteSubscription::test_subscribe_to_suite_failure_raises_exception [32mPASSED[0m[31m [ 89%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_opened_event [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_closed_event_action_2 [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_closed_event_size_zero [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_short_position [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_multiple_positions [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_invalid_data_format [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_exception_handling [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_placed_event [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_filled_event [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_cancelled_event [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_rejected_event [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_accepted_status [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_invalid_data_format [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_multiple_orders [32mPASSED[0m[31m [ 90%][0m
tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_executed_event [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_update_invalid_data_format [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_update_multiple_trades [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestAccountEventHandling::test_account_update_logged_not_published [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestAccountEventHandling::test_account_update_invalid_data_format [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestInstrumentManagement::test_add_instrument_while_running [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestInstrumentManagement::test_add_instrument_while_not_running [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventDataMapping::test_position_data_includes_timestamp [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_event_bridge.py::TestEventDataMapping::test_position_data_includes_raw_data [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestSuiteManagerInitialization::test_initialization_with_event_bus [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestSuiteManagerInitialization::test_initialization_logs_success [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_success [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_default_timeframes [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_custom_timeframes [32mPASSED[0m[31m [ 91%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_already_exists [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_failure_raises_exception [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestAddInstrument::test_add_instrument_logs_creation [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestRemoveInstrument::test_remove_instrument_success [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestRemoveInstrument::test_remove_instrument_not_found [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestRemoveInstrument::test_remove_instrument_disconnect_failure [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetSuite::test_get_suite_exists [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetSuite::test_get_suite_not_found [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetSuite::test_get_all_suites [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestSuiteManagerLifecycle::test_start_manager [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestSuiteManagerLifecycle::test_stop_manager [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestSuiteManagerLifecycle::test_stop_cancels_health_check_task [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestHealthCheckLoop::test_health_check_monitors_connection [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestHealthCheckLoop::test_health_check_handles_exceptions [32mPASSED[0m[31m [ 92%][0m
tests/unit/test_sdk/test_suite_manager.py::TestHealthCheckLoop::test_health_check_stops_on_cancelled [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetHealthStatus::test_get_health_status_empty [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetHealthStatus::test_get_health_status_with_suites [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetHealthStatus::test_get_health_status_with_stats [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestGetHealthStatus::test_get_health_status_handles_errors [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestMultipleInstruments::test_add_multiple_instruments [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestMultipleInstruments::test_remove_one_keeps_others [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestEdgeCases::test_stop_when_not_started [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestEdgeCases::test_add_instrument_while_stopping [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_sdk/test_suite_manager.py::TestEdgeCases::test_double_start [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_set_lockout_locks_account [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_is_locked_out_returns_true_when_locked [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_is_locked_out_returns_false_when_not_locked [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_get_lockout_info_returns_details [32mPASSED[0m[31m [ 93%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_get_lockout_info_returns_none_when_not_locked [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestHardLockoutOperations::test_clear_lockout_removes_lockout [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestCooldownTimers::test_set_cooldown_creates_timer [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestCooldownTimers::test_cooldown_auto_expires_after_duration [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestCooldownTimers::test_cooldown_remaining_time_decreases [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestCooldownTimers::test_cooldown_cleared_cancels_timer [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestCooldownTimers::test_cooldown_integrates_with_timer_manager [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestBackgroundTask::test_check_expired_lockouts_runs_every_second [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestBackgroundTask::test_expired_lockout_auto_cleared [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestBackgroundTask::test_background_task_stops_on_shutdown [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestMultipleAccounts::test_multiple_accounts_locked_independently [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestMultipleAccounts::test_lockout_affects_only_target_account [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestMultipleAccounts::test_clear_lockout_affects_only_target_account [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestDatabasePersistence::test_lockout_saved_to_database [32mPASSED[0m[31m [ 94%][0m
tests/unit/test_state/test_lockout_manager.py::TestDatabasePersistence::test_lockout_deleted_from_database_on_clear [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestDatabasePersistence::test_load_lockouts_populates_memory_state [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestDatabasePersistence::test_expired_lockout_removed_from_database [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestDatabasePersistence::test_database_schema_correct [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestEdgeCases::test_lockout_until_past_time_immediately_expired [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestEdgeCases::test_lockout_reason_persisted_correctly [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestEdgeCases::test_double_lockout_overwrites_previous [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestEventRouterIntegration::test_locked_account_blocks_rule_processing [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestEventRouterIntegration::test_unlocked_account_allows_rule_processing [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestLockoutTypes::test_hard_lockout_type_stored_correctly [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestLockoutTypes::test_cooldown_type_stored_correctly [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestStartupShutdown::test_lockouts_restored_on_startup [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_lockout_manager.py::TestStartupShutdown::test_shutdown_cancels_all_timers [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerBasics::test_tracker_initializes [32mPASSED[0m[31m [ 95%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerBasics::test_get_daily_pnl_returns_zero_for_new_account [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerBasics::test_add_trade_pnl_updates_daily_total [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerPersistence::test_pnl_survives_restart [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerPersistence::test_multiple_accounts_tracked_independently [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerReset::test_reset_clears_daily_pnl [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerReset::test_different_dates_tracked_separately [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerTradeCount::test_trade_count_increments [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerTradeCount::test_trade_count_resets_with_pnl [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerEdgeCases::test_handles_zero_pnl_trades [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerEdgeCases::test_handles_large_pnl_values [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_pnl_tracker.py::TestPnLTrackerEdgeCases::test_get_all_account_pnls [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_schedule_daily_reset_creates_schedule [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_daily_reset_converts_et_to_utc [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_daily_reset_persists_to_database [32mPASSED[0m[31m [ 96%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_daily_reset_clears_pnl_tracker [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_daily_reset_clears_lockout [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDailyResetScheduling::test_daily_reset_does_not_trigger_twice_same_day [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestWeeklyResetScheduling::test_schedule_weekly_reset_creates_schedule [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestWeeklyResetScheduling::test_weekly_reset_triggers_on_monday [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestWeeklyResetScheduling::test_weekly_reset_clears_weekly_pnl [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestTimezoneHandling::test_et_to_utc_conversion_standard_time [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestTimezoneHandling::test_et_to_utc_conversion_daylight_time [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestTimezoneHandling::test_dst_transition_handling [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDatabasePersistence::test_reset_log_saved_to_database [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDatabasePersistence::test_last_reset_time_loaded_from_database [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestBackgroundTask::test_background_task_checks_every_minute [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestBackgroundTask::test_reset_triggered_automatically_at_time [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestBackgroundTask::test_shutdown_stops_background_task [32mPASSED[0m[31m [ 97%][0m
tests/unit/test_state/test_reset_scheduler.py::TestEdgeCases::test_multiple_accounts_independent_schedules [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_reset_scheduler.py::TestEdgeCases::test_reset_time_calculation_near_midnight [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_reset_scheduler.py::TestEdgeCases::test_unscheduled_account_returns_none [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_reset_scheduler.py::TestDatabaseSchema::test_reset_log_table_created [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_reset_scheduler.py::TestIntegration::test_reset_sequence_executes_in_order [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_reset_scheduler.py::TestIntegration::test_full_lifecycle_start_to_stop [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_start_timer_creates_timer [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_get_remaining_time_decreases [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_cancel_timer_removes_timer [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_expired_timer_executes_callback [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_expired_timer_auto_removed [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_multiple_timers_run_simultaneously [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_timers_expire_independently [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_cancel_specific_timer_preserves_others [32mPASSED[0m[31m [ 98%][0m
tests/unit/test_state/test_timer_manager.py::test_callback_receives_correct_context [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_callback_exception_doesnt_crash_manager [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_callback_executes_exactly_once [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_async_callback_supported [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_zero_duration_timer_executes_immediately [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_negative_duration_raises_error [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_timer_precision_within_tolerance [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_check_timers_runs_every_second [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_check_timers_stops_on_shutdown [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_get_remaining_time_nonexistent_timer_returns_zero [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_cancel_nonexistent_timer_no_error [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_duplicate_timer_name_overwrites_previous [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_has_timer_returns_false_for_nonexistent [32mPASSED[0m[31m [ 99%][0m
tests/unit/test_state/test_timer_manager.py::test_start_timer_without_callback_raises_error [32mPASSED[0m[31m [100%][0m

=================================== FAILURES ===================================
[31m[1m_________ TestTimerRulesE2E.test_grace_period_expires_closes_position __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\e2e\test_timer_rules_e2e.py[0m:646: in test_grace_period_expires_closes_position
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert not True[0m
[1m[31mE    +  where True = has_timer('no_stop_loss_grace_CON.F.US.MNQ.Z25')[0m
[1m[31mE    +    where has_timer = <risk_manager.state.timer_manager.TimerManager object at 0x737577a54320>.has_timer[0m
[1m[31mE    +      where <risk_manager.state.timer_manager.TimerManager object at 0x737577a54320> = <test_timer_rules_e2e.TestTimerRulesE2E.risk_system.<locals>.SimpleRiskSystem object at 0x737577d79400>.timer_manager[0m
---------------------------- Captured stdout setup -----------------------------
2025-10-29T02:35:34.369973Z | INFO     | engine.start:40 | ✅ Event loop running: 0 active rules monitoring events
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_grace_period_expires_clos0/test_risk_manager.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Starting Lockout Manager

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout expiry background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine started
----------------------------- Captured stdout call -----------------------------
2025-10-29T02:35:34.371762Z | INFO     | engine.evaluate_rules:74 | 📨 Event received: position_opened - evaluating 1 rules
2025-10-29T02:35:34.372097Z | INFO     | engine.evaluate_rules:82 | 🔍 Rule evaluated: NoStopLossGraceRule - PASSED
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 NoStopLossGraceRule initialized - Grace period: 2s, Enforcement: close_position, Enabled: True

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Added rule: NoStopLossGraceRule

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 RULE-008: Position opened MNQ/CON.F.US.MNQ.Z25 (size=2), starting 2s grace period for stop-loss

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer started: no_stop_loss_grace_CON.F.US.MNQ.Z25 (duration=2s, expires=21:35:36)
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 ⚠️ RULE-008 BREACH: No stop-loss placed within 2s for MNQ/CON.F.US.MNQ.Z25

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 🚨 ENFORCING RULE-008: Closing position MNQ/CON.F.US.MNQ.Z25 (no stop-loss placed within grace period)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 ✅ RULE-008 ENFORCED: Position MNQ/CON.F.US.MNQ.Z25 closed (grace period expired without stop-loss)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer callback executed: no_stop_loss_grace_CON.F.US.MNQ.Z25

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer expired and removed: no_stop_loss_grace_CON.F.US.MNQ.Z25

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop cancelled

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Stopping Lockout Manager

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m___ TestCooldownAfterLossIntegration.test_database_cleanup_on_lockout_clear ____[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_cooldown_after_loss_integration.py[0m:701: in test_database_cleanup_on_lockout_clear
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert 1 == 0[0m
[1m[31mE    +  where 1 = len([<sqlite3.Row object at 0x7375779b1ba0>])[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_database_cleanup_on_locko0/test_cooldown_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Starting Lockout Manager

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout expiry background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 CooldownAfterLossRule initialized: 1 tiers
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Cooldown triggered for account 1010: Loss=$-150.00, Cooldown=2s

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 ENFORCING RULE-007: Account 1010 Loss: $-150.00, Cooldown: 2s

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer started: lockout_1010 (duration=2s, expires=21:36:10)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer started for account 1010 cooldown

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 1010 cooldown for 2s: Cooldown triggered after $-150.00 loss (2s cooldown)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 1010 locked for 2s: Cooldown triggered after $-150.00 loss (2s cooldown)
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Shutting down Lockout Manager

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer cancelled: lockout_1010

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Error cancelling timer for account 1010: object NoneType can't be used in 'await' expression

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Stopping Lockout Manager

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager shutdown complete

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop cancelled

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager stopped
[31m[1m__________________ test_full_profit_target_flow_with_database __________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:122: in test_full_profit_target_flow_with_database
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert 600.0 == 300.0[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_full_profit_target_flow_w0/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +300.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 300.00 → 600.00 (trade: +300.00)
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m_______________________ test_multi_account_independence ________________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:205: in test_multi_account_independence
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert {'account_id': '456', 'action': 'flatten', 'current_profit': 1000.0, 'lockout_required': True, ...} is None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_multi_account_independenc1/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +1100.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1100.00 → 2200.00 (trade: +1100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$2200.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 ENFORCING RULE-013: Account 123 Daily P&L: $2200.00, Target: $1000.00 - Great trading!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Next reset time: 2025-10-29T17:00:00-04:00 (America/New_York) = 2025-10-29T21:00:00+00:00 (UTC)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 123 locked until 2025-10-29T21:00:00+00:00: Daily profit target reached: $2200.00 (target: $1000.00) - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 123 locked until 2025-10-29T21:00:00+00:00: Daily profit target reached: $2200.00 (target: $1000.00) - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 456 on 2025-10-28: +500.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 456 on 2025-10-28: 500.00 → 1000.00 (trade: +500.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 456: P&L=$1000.00, Target=$1000.00 - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m_______________________ test_reset_scheduler_integration _______________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:299: in test_reset_scheduler_integration
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert 2200.0 == 1100.0[0m
[1m[31mE    +  where 2200.0 = get_daily_pnl('123')[0m
[1m[31mE    +    where get_daily_pnl = <risk_manager.state.pnl_tracker.PnLTracker object at 0x7375779ed400>.get_daily_pnl[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_reset_scheduler_integrati1/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset scheduler ready to load last reset times from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset Scheduler initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Starting Reset Scheduler

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset Scheduler started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset loop started
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +1100.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1100.00 → 2200.00 (trade: +1100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$2200.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 ENFORCING RULE-013: Account 123 Daily P&L: $2200.00, Target: $1000.00 - Great trading!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Next reset time: 2025-10-29T17:00:00-04:00 (America/New_York) = 2025-10-29T21:00:00+00:00 (UTC)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 123 locked until 2025-10-29T21:00:00+00:00: Daily profit target reached: $2200.00 (target: $1000.00) - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Account 123 locked until 2025-10-29T21:00:00+00:00: Daily profit target reached: $2200.00 (target: $1000.00) - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Stopping Reset Scheduler

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset loop cancelled

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset loop stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Reset Scheduler stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m__________________________ test_event_bus_async_flow ___________________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:352: in test_event_bus_async_flow
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert {'account_id': '123', 'action': 'flatten', 'current_profit': 1300.0, 'lockout_required': True, ...} is None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_event_bus_async_flow0/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +200.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 200.00 → 400.00 (trade: +200.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 400.00 → 550.00 (trade: +150.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 550.00 → 700.00 (trade: +150.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 700.00 → 1000.00 (trade: +300.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1000.00 → 1300.00 (trade: +300.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1300.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1300.00 → 1550.00 (trade: +250.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1550.00 → 1800.00 (trade: +250.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1800.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1800.00 → 2000.00 (trade: +200.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 2000.00 → 2200.00 (trade: +200.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$2200.00, Target=$1000.00 - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m_____________________ test_concurrent_access_thread_safety _____________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:508: in test_concurrent_access_thread_safety
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert 2000.0 == 1000.0[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_concurrent_access_thread_1/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +100.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 100.00 → 200.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 200.00 → 300.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 300.00 → 400.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 400.00 → 500.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 500.00 → 600.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 600.00 → 700.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 700.00 → 800.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 800.00 → 900.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 900.00 → 1000.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1000.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1000.00 → 1100.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1100.00 → 1200.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1200.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1200.00 → 1300.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1300.00 → 1400.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1400.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1400.00 → 1500.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1500.00 → 1600.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1600.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1600.00 → 1700.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1700.00 → 1800.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1800.00, Target=$1000.00 - Good job!

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1800.00 → 1900.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1900.00 → 2000.00 (trade: +100.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$2000.00, Target=$1000.00 - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m__________________________ test_mixed_profit_loss_day __________________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:598: in test_mixed_profit_loss_day
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert {'account_id': '123', 'action': 'flatten', 'current_profit': 1200.0, 'lockout_required': True, ...} is None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_mixed_profit_loss_day1/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +600.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 600.00 → 1200.00 (trade: +600.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$1200.00, Target=$1000.00 - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m_______________________ test_boundary_exactly_at_target ________________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_daily_realized_profit_integration.py[0m:767: in test_boundary_exactly_at_target
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert 2000.0 == 1000.0[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/pytest-of-jakers/pytest-21/test_boundary_exactly_at_targe0/test_integration.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 PnLTracker initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Loaded 0 lockouts from database

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Lockout Manager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Created P&L record for 123 on 2025-10-28: +1000.00

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Updated P&L for 123 on 2025-10-28: 1000.00 → 2000.00 (trade: +1000.00)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Daily profit target reached for account 123: P&L=$2000.00, Target=$1000.00 - Good job!
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m_ TestNoStopLossGraceIntegration.test_grace_period_timer_expires_and_closes_position _[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_no_stop_loss_grace_integration.py[0m:116: in test_grace_period_timer_expires_and_closes_position
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   AssertionError: assert not True[0m
[1m[31mE    +  where True = has_timer('no_stop_loss_grace_CON.F.US.MNQ.Z25')[0m
[1m[31mE    +    where has_timer = <risk_manager.state.timer_manager.TimerManager object at 0x737577b06570>.has_timer[0m
[1m[31mE    +      where <risk_manager.state.timer_manager.TimerManager object at 0x737577b06570> = <risk_manager.rules.no_stop_loss_grace.NoStopLossGraceRule object at 0x737577b0b570>.timer_manager[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 NoStopLossGraceRule initialized - Grace period: 2s, Enforcement: close_position, Enabled: True
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 RULE-008: Position opened MNQ/CON.F.US.MNQ.Z25 (size=2), starting 2s grace period for stop-loss

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer started: no_stop_loss_grace_CON.F.US.MNQ.Z25 (duration=2s, expires=21:36:53)
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop cancelled

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager stopped
[31m[1m____________ TestTradeFrequencyLimitIntegration.test_session_reset _____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_trade_frequency_limit_integration.py[0m:492: in test_session_reset
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\integration\test_trade_frequency_limit_integration.py[0m:121: in add_trade
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/state/database.py[0m:284: in execute_write
    [0mcursor.execute(query, params)[90m[39;49;00m
[1m[31mE   sqlite3.IntegrityError: UNIQUE constraint failed: trades.account_id, trades.trade_id[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Applying schema migration: v1 (initial schema)

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Schema v1 applied successfully

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database initialized at /tmp/tmpenghjttm.db

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager initialized

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Background task started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop started

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TradeFrequencyLimitRule initialized: limits={'per_minute': 3, 'per_hour': 10, 'per_session': 50}, cooldowns={'per_minute_breach': 2, 'per_hour_breach': 5, 'per_session_breach': 8}
---------------------------- Captured log teardown -----------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop cancelled

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Timer loop stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 TimerManager stopped

[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Database closed
[31m[1m______ TestRiskManagerInitialization.test_manager_init_creates_components ______[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:42: in test_manager_init_creates_components
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______ TestRiskManagerInitialization.test_manager_init_sets_up_logging ________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:69: in test_manager_init_sets_up_logging
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_________ TestRiskManagerInitialization.test_manager_init_logs_startup _________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:87: in test_manager_init_logs_startup
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m________ TestRiskManagerInitialization.test_manager_init_with_log_file _________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:106: in test_manager_init_with_log_file
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m____________ TestRiskManagerCreate.test_create_with_default_config _____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:132: in test_create_with_default_config
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m______________ TestRiskManagerCreate.test_create_with_instruments ______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:154: in test_create_with_instruments
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m____________ TestRiskManagerCreate.test_create_with_rules_override _____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:180: in test_create_with_rules_override
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m______________ TestRiskManagerCreate.test_create_with_config_file ______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:202: in test_create_with_config_file
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m______________ TestRiskManagerCreate.test_create_with_ai_enabled _______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:224: in test_create_with_ai_enabled
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_________________ TestRiskManagerCreate.test_create_without_ai _________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:245: in test_create_without_ai
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:118: in create
    [0mmanager = [96mcls[39;49;00m(config)[90m[39;49;00m
              ^^^^^^^^^^^[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_________ TestRiskManagerIntegrations.test_init_ai_integration_success _________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:280: in test_init_ai_integration_success
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m______ TestRiskManagerIntegrations.test_init_ai_integration_import_error _______[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:308: in test_init_ai_integration_import_error
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m____________ TestRiskManagerRules.test_add_default_rules_daily_loss ____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:336: in test_add_default_rules_daily_loss
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerRules.test_add_default_rules_max_position ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:361: in test_add_default_rules_max_position
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______________ TestRiskManagerRules.test_add_default_rules_both _______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:387: in test_add_default_rules_both
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______________ TestRiskManagerRules.test_add_default_rules_none _______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:410: in test_add_default_rules_none
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m______________________ TestRiskManagerRules.test_add_rule ______________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:432: in test_add_rule
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_____________ TestRiskManagerLifecycle.test_start_when_not_running _____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:460: in test_start_when_not_running
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerLifecycle.test_start_when_already_running ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:490: in test_start_when_already_running
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerLifecycle.test_start_without_integrations ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:511: in test_start_without_integrations
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerLifecycle.test_start_subscribes_to_events ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:532: in test_start_subscribes_to_events
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______________ TestRiskManagerLifecycle.test_stop_when_running ________________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:555: in test_stop_when_running
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_____________ TestRiskManagerLifecycle.test_stop_when_not_running ______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:585: in test_stop_when_not_running
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______________ TestRiskManagerLifecycle.test_stop_cancels_tasks _______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:606: in test_stop_cancels_tasks
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______________ TestRiskManagerLifecycle.test_wait_until_stopped _______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:636: in test_wait_until_stopped
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_____________ TestRiskManagerEventHandling.test_handle_fill_event ______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:669: in test_handle_fill_event
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m________ TestRiskManagerEventHandling.test_handle_position_update_event ________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:694: in test_handle_position_update_event
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerEventHandling.test_on_subscribe_to_events ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:719: in test_on_subscribe_to_events
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m___________ TestRiskManagerStats.test_get_stats_with_all_components ____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:745: in test_get_stats_with_all_components
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_____________ TestRiskManagerStats.test_get_stats_without_trading ______________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:772: in test_get_stats_without_trading
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m__________ TestRiskManagerErrorHandling.test_start_with_engine_error ___________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:801: in test_start_with_engine_error
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_________ TestRiskManagerErrorHandling.test_stop_with_component_error __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:819: in test_stop_with_component_error
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m_______ TestRiskManagerErrorHandling.test_handle_fill_with_engine_error ________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:841: in test_handle_fill_with_engine_error
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m____________ TestRiskManagerIntegration.test_event_flow_integration ____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py[0m:883: in test_event_flow_integration
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:43: in __init__
    [0m[96mself[39;49;00m._setup_logging()[90m[39;49;00m
[1m[31msrc/risk_manager/core/manager.py[0m:52: in _setup_logging
    [0mlog_config = [96mself[39;49;00m.config.general.logging[90m[39;49;00m
                 ^^^^^^^^^^^^^^^^^^^[90m[39;49;00m
[1m[31m.venv/lib/python3.13/site-packages/pydantic/main.py[0m:1026: in __getattr__
    [0m[94mraise[39;49;00m [96mAttributeError[39;49;00m([33mf[39;49;00m[33m'[39;49;00m[33m{[39;49;00m[96mtype[39;49;00m([96mself[39;49;00m).[91m__name__[39;49;00m[33m!r}[39;49;00m[33m object has no attribute [39;49;00m[33m{[39;49;00mitem[33m!r}[39;49;00m[33m'[39;49;00m)[90m[39;49;00m
[1m[31mE   AttributeError: 'RiskConfig' object has no attribute 'general'[0m
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Risk Engine initialized
[31m[1m__________ TestDailyRealizedProfitRule.test_profit_at_target_violates __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:173: in test_profit_at_target_violates
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m_______ TestDailyRealizedProfitRule.test_profit_exceeds_target_violates ________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:200: in test_profit_exceeds_target_violates
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m____________ TestDailyRealizedProfitRule.test_large_profit_violates ____________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:224: in test_large_profit_violates
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m_________ TestDailyRealizedProfitRule.test_violation_triggers_lockout __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:250: in test_violation_triggers_lockout
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m________ TestDailyRealizedProfitRule.test_multi_symbol_profit_tracking _________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:327: in test_multi_symbol_profit_tracking
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m_________ TestDailyRealizedProfitRule.test_enforcement_action_correct __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:448: in test_enforcement_action_correct
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m_________ TestDailyRealizedProfitRule.test_evaluates_pnl_updated_event _________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:492: in test_evaluates_pnl_updated_event
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
------------------------------ Captured log call -------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 Ignoring half-turn trade (no realized P&L)
[31m[1m__________ TestDailyRealizedProfitRule.test_violation_message_clarity __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:561: in test_violation_message_clarity
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m__________ TestDailyRealizedProfitRule.test_mixed_trades_reach_target __________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:592: in test_mixed_trades_reach_target
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m________ TestDailyRealizedProfitRule.test_success_message_positive_tone ________[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:617: in test_success_message_positive_tone
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[31m[1m_____ TestDailyRealizedProfitRule.test_cannot_trigger_both_profit_and_loss _____[0m
[1m[31mC:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_rules\test_daily_realized_profit.py[0m:645: in test_cannot_trigger_both_profit_and_loss
    [0m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[04m[91m?[39;49;00m[90m[39;49;00m
[1m[31mE   assert None is not None[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m root:C:\Users\jakers\Desktop\risk-manager-v34\tests\conftest.py:37 DailyRealizedProfitRule initialized: target=$1000.00, reset=17:00 America/New_York
[33m=============================== warnings summary ===============================[0m
.venv/lib/python3.13/site-packages/uvloop/__init__.py:154
  /mnt/c/Users/jakers/Desktop/risk-manager-v34/.venv/lib/python3.13/site-packages/uvloop/__init__.py:154: DeprecationWarning: uvloop.install() is deprecated in favor of uvloop.run() starting with Python 3.12.
    _warnings.warn(

tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_creates_components
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:29: PytestWarning: The test <Function test_manager_init_creates_components> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_sets_up_logging
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:54: PytestWarning: The test <Function test_manager_init_sets_up_logging> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_logs_startup
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:74: PytestWarning: The test <Function test_manager_init_logs_startup> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_core/test_manager.py::TestRiskManagerInitialization::test_manager_init_with_log_file
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:92: PytestWarning: The test <Function test_manager_init_with_log_file> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_core/test_manager.py::TestRiskManagerRules::test_add_rule
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:421: PytestWarning: The test <Function test_add_rule> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_core/test_manager.py::TestRiskManagerEventHandling::test_on_subscribe_to_events
  C:\Users\jakers\Desktop\risk-manager-v34\tests\unit\test_core\test_manager.py:708: PytestWarning: The test <Function test_on_subscribe_to_events> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.

tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_opened_event
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_short_position
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_multiple_positions
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_update_multiple_positions
tests/unit/test_sdk/test_event_bridge.py::TestEventDataMapping::test_position_data_includes_timestamp
tests/unit/test_sdk/test_event_bridge.py::TestEventDataMapping::test_position_data_includes_raw_data
  /mnt/c/Users/jakers/Desktop/risk-manager-v34/src/risk_manager/sdk/event_bridge.py:193: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_closed_event_action_2
tests/unit/test_sdk/test_event_bridge.py::TestPositionEventHandling::test_position_closed_event_size_zero
  /mnt/c/Users/jakers/Desktop/risk-manager-v34/src/risk_manager/sdk/event_bridge.py:209: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_placed_event
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_filled_event
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_cancelled_event
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_rejected_event
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_accepted_status
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_multiple_orders
tests/unit/test_sdk/test_event_bridge.py::TestOrderEventHandling::test_order_update_multiple_orders
  /mnt/c/Users/jakers/Desktop/risk-manager-v34/src/risk_manager/sdk/event_bridge.py:277: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_executed_event
tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_update_multiple_trades
tests/unit/test_sdk/test_event_bridge.py::TestTradeEventHandling::test_trade_update_multiple_trades
  /mnt/c/Users/jakers/Desktop/risk-manager-v34/src/risk_manager/sdk/event_bridge.py:328: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    "timestamp": datetime.utcnow().isoformat(),

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.13.7-final-0 ________________

Name                                                     Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------
src/risk_manager/__init__.py                                 4      0      0      0 100.00%
src/risk_manager/ai/__init__.py                              0      0      0      0 100.00%
src/risk_manager/ai/integration.py                          48     48      6      0   0.00%   10-121
src/risk_manager/cli/__init__.py                             5      5      0      0   0.00%   8-41
src/risk_manager/cli/admin.py                              635    635    118      0   0.00%   14-1237
src/risk_manager/cli/admin_config_enhanced.py              113    113     20      0   0.00%   8-261
src/risk_manager/cli/checkpoints.py                         62     62     22      0   0.00%   17-241
src/risk_manager/cli/config_editor.py                      205    205     84      0   0.00%   7-449
src/risk_manager/cli/config_loader.py                      159    159     36      0   0.00%   14-455
src/risk_manager/cli/credential_manager.py                 147    147     50      0   0.00%   14-380
src/risk_manager/cli/display.py                            148    148     58      0   0.00%   3-400
src/risk_manager/cli/logger.py                              82     82     26      0   0.00%   3-285
src/risk_manager/cli/service_helpers.py                     90     90     26      0   0.00%   8-270
src/risk_manager/cli/setup_wizard.py                       207    207     44      0   0.00%   11-609
src/risk_manager/config/__init__.py                         10      3      2      1  66.67%   126-128, 223
src/risk_manager/config/env.py                              69     15     34      1  80.58%   218-242
src/risk_manager/config/examples.py                        170    170     22      0   0.00%   11-339
src/risk_manager/config/loader.py                          126     22     16      2  83.10%   154, 244-245, 277-278, 310-311, 348-349, 414-435
src/risk_manager/config/models.py                          603     19    118     22  94.31%   163->173, 168->165, 171->170, 193->exit, 227, 247, 285, 294-295, 599, 641, 669, 697, 725, 769, 819, 845, 874, 906, 932, 965, 973, 1213->1217, 1246
src/risk_manager/config/validator.py                       172      1     98      8  96.67%   189, 336->369, 352->360, 392->402, 424->436, 436->448, 440->439, 468->499
src/risk_manager/core/__init__.py                            5      0      0      0 100.00%
src/risk_manager/core/config.py                             72      3     12      4  91.67%   143, 150, 161->156, 189
src/risk_manager/core/engine.py                             96      9     18      0  90.35%   150-151, 175-176, 209-214, 218
src/risk_manager/core/events.py                             66      2     10      1  96.05%   71, 82, 105->exit
src/risk_manager/core/manager.py                           110     67     32      2  35.92%   46-47, 53-69, 109, 114->113, 121-135, 139-155, 159-170, 184, 188-210, 214-233, 237-238, 242, 246, 250, 254, 258
src/risk_manager/daemon/__init__.py                          3      3      0      0   0.00%   8-11
src/risk_manager/daemon/runner.py                          131    131     26      0   0.00%   8-346
src/risk_manager/daemon/service.py                         110    110     18      0   0.00%   8-295
src/risk_manager/integrations/__init__.py                    0      0      0      0 100.00%
src/risk_manager/integrations/trading.py                   226    226     64      0   0.00%   3-518
src/risk_manager/rules/__init__.py                          16      0      0      0 100.00%
src/risk_manager/rules/auth_loss_guard.py                   51      1     18      1  97.10%   172
src/risk_manager/rules/base.py                              17      2      0      0  88.24%   42, 46
src/risk_manager/rules/cooldown_after_loss.py               61      3     24      1  95.29%   154, 262-263
src/risk_manager/rules/daily_loss.py                        17      0      8      0 100.00%
src/risk_manager/rules/daily_realized_loss.py               63      9     16      3  84.81%   130, 143-144, 160-162, 274->278, 287-290
src/risk_manager/rules/daily_realized_profit.py             67     10     16      2  85.54%   152-153, 169-171, 237-238, 286->290, 299-302
src/risk_manager/rules/daily_unrealized_loss.py             45      2     20      2  93.85%   105, 178
src/risk_manager/rules/max_contracts_per_instrument.py      81      1     36      4  95.73%   140->180, 161->180, 227, 231->246
src/risk_manager/rules/max_position.py                      24      1     14      3  89.47%   34, 47->72, 49->47
src/risk_manager/rules/max_unrealized_profit.py             45      4     20      4  87.69%   92, 104, 170, 177
src/risk_manager/rules/no_stop_loss_grace.py                89      4     34      6  91.87%   189, 226, 231->238, 258-259, 303->315, 307->306
src/risk_manager/rules/session_block_outside.py             84      3     22      1  96.23%   111, 123-124
src/risk_manager/rules/symbol_blocks.py                     31      1     14      1  95.56%   71
src/risk_manager/rules/trade_frequency_limit.py             59      0     22      0 100.00%
src/risk_manager/rules/trade_management.py                 108     15     54     12  80.86%   147, 169, 240, 257, 262, 267, 274, 293-298, 307->317, 311-315, 407
src/risk_manager/sdk/__init__.py                             4      0      0      0 100.00%
src/risk_manager/sdk/enforcement.py                        153     20     30      0  89.07%   70-73, 80-83, 202-205, 234-237, 244-247
src/risk_manager/sdk/event_bridge.py                       138      8     38      3  93.75%   201->162, 263->266, 266->237, 285-287, 336-338, 362-363
src/risk_manager/sdk/suite_manager.py                       89      5     24      2  93.81%   174-175, 182-184, 210->214, 214->221
src/risk_manager/state/__init__.py                           6      0      0      0 100.00%
src/risk_manager/state/database.py                         104     17     20      2  81.45%   86->exit, 286, 317-333, 359-369, 381-391
src/risk_manager/state/lockout_manager.py                  145     19     48      9  84.46%   159, 256-257, 290, 328, 355-363, 395-396, 421, 457, 459, 483-484, 489
src/risk_manager/state/pnl_tracker.py                       56      2     16      3  93.06%   225, 257->260, 277
src/risk_manager/state/reset_scheduler.py                  140     19     38     11  80.90%   121->128, 227, 233, 246->277, 268-271, 338, 352-353, 357-360, 382->390, 386-387, 390->398, 408-409, 434->445, 441-443
src/risk_manager/state/timer_manager.py                     95      8     26      5  89.26%   62-63, 77->85, 180-181, 213->224, 220-222, 235
src/runtime/__init__.py                                      6      6      0      0   0.00%   15-21
src/runtime/async_debug.py                                 101    101     28      0   0.00%   18-258
src/runtime/dry_run.py                                     146    146     34      0   0.00%   23-394
src/runtime/heartbeat.py                                    74     74     14      0   0.00%   17-197
src/runtime/post_conditions.py                              63     63      8      0   0.00%   16-213
src/runtime/smoke_test.py                                   71     71      6      0   0.00%   19-225
src/sanity/__init__.py                                       2      2      0      0   0.00%   9-11
src/sanity/auth_sanity.py                                  160    160     36      0   0.00%   21-263
src/sanity/enforcement_sanity.py                           119    119     14      0   0.00%   20-201
src/sanity/events_sanity.py                                177    177     34      0   0.00%   23-354
src/sanity/logic_sanity.py                                  77     77      8      0   0.00%   19-127
src/sanity/runner.py                                       162    162     26      0   0.00%   15-266
-----------------------------------------------------------------------------------------------------
TOTAL                                                     6820   3994   1726    116  41.73%
Coverage HTML written to dir htmlcov
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m tests/e2e/test_timer_rules_e2e.py::[1mTestTimerRulesE2E::test_grace_period_expires_closes_position[0m - AssertionError: assert not True
[31mFAILED[0m tests/integration/test_cooldown_after_loss_integration.py::[1mTestCooldownAfterLossIntegration::test_database_cleanup_on_lockout_clear[0m - assert 1 == 0
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_full_profit_target_flow_with_database[0m - assert 600.0 == 300.0
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_multi_account_independence[0m - AssertionError: assert {'account_id': '456', 'action': 'flatten', 'current_...
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_reset_scheduler_integration[0m - AssertionError: assert 2200.0 == 1100.0
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_event_bus_async_flow[0m - AssertionError: assert {'account_id': '123', 'action': 'flatten', 'current_...
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_concurrent_access_thread_safety[0m - assert 2000.0 == 1000.0
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_mixed_profit_loss_day[0m - AssertionError: assert {'account_id': '123', 'action': 'flatten', 'current_...
[31mFAILED[0m tests/integration/test_daily_realized_profit_integration.py::[1mtest_boundary_exactly_at_target[0m - assert 2000.0 == 1000.0
[31mFAILED[0m tests/integration/test_no_stop_loss_grace_integration.py::[1mTestNoStopLossGraceIntegration::test_grace_period_timer_expires_and_closes_position[0m - AssertionError: assert not True
[31mFAILED[0m tests/integration/test_trade_frequency_limit_integration.py::[1mTestTradeFrequencyLimitIntegration::test_session_reset[0m - sqlite3.IntegrityError: UNIQUE constraint failed: trades.account_id, trades...
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerInitialization::test_manager_init_creates_components[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerInitialization::test_manager_init_sets_up_logging[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerInitialization::test_manager_init_logs_startup[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerInitialization::test_manager_init_with_log_file[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_with_default_config[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_with_instruments[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_with_rules_override[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_with_config_file[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_with_ai_enabled[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerCreate::test_create_without_ai[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerIntegrations::test_init_ai_integration_success[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerIntegrations::test_init_ai_integration_import_error[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerRules::test_add_default_rules_daily_loss[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerRules::test_add_default_rules_max_position[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerRules::test_add_default_rules_both[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerRules::test_add_default_rules_none[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerRules::test_add_rule[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_start_when_not_running[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_start_when_already_running[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_start_without_integrations[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_start_subscribes_to_events[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_stop_when_running[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_stop_when_not_running[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_stop_cancels_tasks[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerLifecycle::test_wait_until_stopped[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerEventHandling::test_handle_fill_event[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerEventHandling::test_handle_position_update_event[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerEventHandling::test_on_subscribe_to_events[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerStats::test_get_stats_with_all_components[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerStats::test_get_stats_without_trading[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerErrorHandling::test_start_with_engine_error[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerErrorHandling::test_stop_with_component_error[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerErrorHandling::test_handle_fill_with_engine_error[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_core/test_manager.py::[1mTestRiskManagerIntegration::test_event_flow_integration[0m - AttributeError: 'RiskConfig' object has no attribute 'general'
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_profit_at_target_violates[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_profit_exceeds_target_violates[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_large_profit_violates[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_violation_triggers_lockout[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_multi_symbol_profit_tracking[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_enforcement_action_correct[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_evaluates_pnl_updated_event[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_violation_message_clarity[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_mixed_trades_reach_target[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_success_message_positive_tone[0m - assert None is not None
[31mFAILED[0m tests/unit/test_rules/test_daily_realized_profit.py::[1mTestDailyRealizedProfitRule::test_cannot_trigger_both_profit_and_loss[0m - assert None is not None
[31m===== [31m[1m56 failed[0m, [32m1336 passed[0m, [33m4 skipped[0m, [33m25 warnings[0m[31m in 311.69s (0:05:11)[0m[31m ======[0m


================================================================================
End of Report
================================================================================
